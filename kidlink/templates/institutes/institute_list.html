{% extends "sidebar.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/list.css' %}" />
<link rel="stylesheet" href="{% static 'css/scrollbar.css' %}" />

<div class="list-container">
  <div class="header-bar">
    <h1><i class="fas fa-school"></i> Institute Overview</h1>
    <a href="{% url 'add_institute' %}" class="btn-add">
      <i class="fas fa-plus-circle"></i> Add New Institute
    </a>
  </div>

  {% if institutes %}
  <div class="table-wrapper">
    <table class="data-table">
      <thead>
        <tr>
          <th><i class="fas fa-university"></i> Name</th>
          <th><i class="fas fa-building"></i> Type</th>
          <th><i class="fas fa-map-marker-alt"></i> Address</th>
          <th><i class="fas fa-user-tie"></i> Contact Person</th>
          <th><i class="fas fa-phone"></i> Phone</th>
          <th><i class="fas fa-envelope"></i> Email</th>
          <th><i class="fas fa-cog"></i> Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for institute in institutes %}
        <tr class="record-row">
          <td data-label="Name">
            <div class="record-info">
              <div class="avatar">
                {{ institute.institute_name|slice:":2" }}
              </div>
              <div class="info">
                <strong>{{ institute.institute_name }}</strong>
              </div>
            </div>
          </td>
          <td data-label="Type">{{ institute.type|default:"-" }}</td>
          <td data-label="Address">{{ institute.address|default:"-" }}</td>
          <td data-label="Contact Person">{{ institute.contact_person|default:"-" }}</td>
          <td data-label="Phone">{{ institute.phone|default:"-" }}</td>
          <td data-label="Email">{{ institute.email|default:"-" }}</td>

          <td data-label="Actions" class="actions">
            <a
              href="{% url 'update_institute' institute.pk %}"
              class="btn edit"
              title="Edit Institute"
            >
              <i class="fas fa-edit"></i>
            </a>
            <a
              href="{% url 'delete_institute' institute.pk %}"
              class="btn delete"
              title="Delete Institute"
            >
              <i class="fas fa-trash-alt"></i>
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <div class="empty-message">
    <i class="fas fa-info-circle"></i> No institutes found. Click “Add New
    Institute” to create one.
  </div>
  {% endif %}
</div>
{% endblock %}
